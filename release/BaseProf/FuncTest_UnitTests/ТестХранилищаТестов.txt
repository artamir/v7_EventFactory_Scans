Перем КаталогТестов;

Функция Этот(Значение) Возврат Значение; КонецФункции
Функция Сам() Возврат Этот(Контекст); КонецФункции

Процедура Сетап() Экспорт
	КаталогТестов=КаталогИБ()+"Тест22";
	Если ФС.СуществуетФайл(КаталогТестов)=0 Тогда
		ФС.СоздатьКаталог(КаталогТестов);
	КонецЕсли;
КонецПроцедуры
//--------------------------------------------

Процедура Сброс() Экспорт
	РаботаСФайлами=СоздатьОбъект("РаботаСФайлами");
	РаботаСФайлами.ОчиститьКаталог(КаталогТестов);
	//ФС.УдалитьКаталог(КаталогТестов);
КонецПроцедуры
//--------------------------------------------

Процедура Тест_АнализКаталога() Экспорт
	Хранилище=СоздатьОбъект("TestStorage");
	Хранилище.УстановитьТекущийКаталог(КаталогТестов);
	_СписокТестов = СоздатьОбъект("ТаблицаЗначений");
	Хранилище.ПолучитьСписокТестов(_СписокТестов);
	Сам().ПроверитьРавенство(_СписокТестов.КоличествоСтрок(), 0);
	//_СписокТестов.ПолучитьСтрокуПоНомеру(1);
	//Сам().ПроверитьРавенство(_СписокТестов.НазваниеТеста, "вверх...");
КонецПроцедуры
//--------------------------------------------

Процедура Тест_ДобавитьТест() Экспорт
	Хранилище=СоздатьОбъект("TestStorage");
	Хранилище.УстановитьТекущийКаталог(КаталогТестов);
	_СписокТестов = СоздатьОбъект("ТаблицаЗначений");
	Хранилище.ПолучитьСписокТестов(_СписокТестов);
	Хранилище.НовыйТест(_СписокТестов, "НовыйТест 21");
	Сам().ПроверитьРавенство(_СписокТестов.КоличествоСтрок(), 1);
	_СписокТестов.ПолучитьСтрокуПоНомеру(1);
	Сам().ПроверитьРавенство(_СписокТестов.НазваниеТеста, "НовыйТест 21");
КонецПроцедуры
//--------------------------------------------

Процедура Тест_УдалениеКаталогаТестов() Экспорт
	Хранилище=СоздатьОбъект("TestStorage");
	Хранилище.УстановитьТекущийКаталог(КаталогТестов);
	СписокТестов=СоздатьОбъект("ТаблицаЗначений");
	Хранилище.ПолучитьСписокТестов(СписокТестов);
	Хранилище.НовыйТест(СписокТестов, "Просто тест");
	Хранилище.УдалитьТест(1);
	ФС.НайтиПервыйФайл(КаталогИБ());
	ФС.УдалитьКаталог(КаталогТестов);
	Сам().ПроверитьРавенство(ФС.СуществуетФайл(КаталогТестов), 0);
КонецПроцедуры
//--------------------------------------------
