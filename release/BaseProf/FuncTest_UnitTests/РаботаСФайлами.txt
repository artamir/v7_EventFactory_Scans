Функция ЭтоКаталог(ИмяФайла)
	Атрибуты="";
	ФС.АтрибутыФайла(ИмяФайла,,Атрибуты);
	Возврат Число(Сред(Атрибуты, 4, 1));
КонецФункции
//--------------------------------------------

Процедура ОчиститьКаталог(ИмяКаталога) Экспорт
	Файлы=СоздатьОбъект("СписокЗначений");
	ИмяФайла=ФС.НайтиПервыйФайл(ИмяКаталога+"\*.*");
	Пока ПустоеЗначение(ИмяФайла)=0 Цикл
		Файлы.ДобавитьЗначение(ИмяФайла);
		ИмяФайла=ФС.НайтиСледующийФайл();
	КонецЦикла;
	
	Для ъ=1 По Файлы.РазмерСписка() Цикл
		ИмяФайла=Файлы.ПолучитьЗначение(ъ);
		Если (ИмяФайла=".") Или (ИмяФайла="..") Тогда Продолжить; КонецЕсли;
		ПолноеИмя=ИмяКаталога+"\"+ИмяФайла;
		
		Если ЭтоКаталог(ПолноеИмя)=1 Тогда
			ОчиститьКаталог(ПолноеИмя);
			ФС.УдалитьКаталог(ПолноеИмя);
		Иначе
			ФС.УдалитьФайл(ПолноеИмя);
		КонецЕсли;
	КонецЦикла;
		
	//Надо освободить каталог для возможности последующего удаления
	ФС.НайтиПервыйФайл(КаталогИБ());
КонецПроцедуры
//--------------------------------------------
